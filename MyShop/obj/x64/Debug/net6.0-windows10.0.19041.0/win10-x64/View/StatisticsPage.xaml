<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="MyShop.View.StatisticsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MyShop.View"
    xmlns:chart="using:Syncfusion.UI.Xaml.Charts"
    xmlns:ViewModel="using:MyShop.ViewModel"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" d:DataContext="{d:DesignInstance Type=ViewModel:StatisticViewModel}"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
     Foreground="{ThemeResource MyForegroundThemeBrush}">

    <Grid Margin="{StaticResource PageContentMargin}">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
        </Grid.RowDefinitions>
        
        <!--Header, Filter-->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TextBlock
                     Margin="20,20,0,20"
                     Style="{StaticResource PageTitleStyle}"
                     Text="Statistics" />     
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:ConnectionId='6' Margin="2"                   Name="ViewProduct">View Product Stastics</Button>
                <Button x:ConnectionId='7' Margin="2"                   Name="Week">Week</Button>
                <Button x:ConnectionId='8' Margin="2"                    Name="Month">Month</Button>
                <Button x:ConnectionId='9' Margin="2"                   Name="Year" Background=" #FF00FF00 " >Year</Button>
            </StackPanel>
        </Grid>
        
        <!--Statistics -->
        <Grid Grid.Row="1" 
                  Background="{ThemeResource MyBlockBackgroundThemeBrush}"
                      CornerRadius="10">
            <Grid Grid.Row="0">
                <Grid.Resources>
                    <BrushCollection x:Key="customBrushes">
                     <SolidColorBrush Color="#003C72"/>
                    </BrushCollection>
                </Grid.Resources>
                <chart:SfCartesianChart x:ConnectionId='4' PlotAreaBackground="LightCyan" 
                        Background="LightBlue"
                        CornerRadius="10"
                        Margin="10,5,10,5"
                        PlotAreaBorderThickness="3" Name="chart" Header="Revenue" PaletteBrushes="{StaticResource customBrushes}" FontWeight="Bold" >
                    <chart:SfCartesianChart.Resources>
                        <ResourceDictionary>
                            <DataTemplate x:Key="dataLabelTemplate">
                                <Ellipse Height="10" Width="10" 
                                 Fill="White" 
                                 Stroke="#4a4a4a" 
                                 StrokeThickness="2"/>
                            </DataTemplate>
                            <Style TargetType="Path" x:Key="lineStyle">
                                <Setter Property="StrokeDashArray"
			                      	Value="10,7,5"/>
                                <Setter Property="Stroke"
			                	Value="Black"/>
                            </Style>
                        </ResourceDictionary>
                    </chart:SfCartesianChart.Resources>
                    <chart:SfCartesianChart.XAxes>
                        <chart:CategoryAxis PlotOffsetStart="10" PlotOffsetEnd="10" Header="Time"/>
                    </chart:SfCartesianChart.XAxes>
                    <chart:SfCartesianChart.YAxes>
                        <chart:NumericalAxis PlotOffsetStart="30" Header="Revenue ($)" Interval="100" />
                    </chart:SfCartesianChart.YAxes>
                    <chart:SfCartesianChart.Legend>
                        <chart:ChartLegend IconWidth="15" 
                       IconHeight="15" 
                       IconVisibility="Visible" ToggleSeriesVisibility="True">
                        </chart:ChartLegend>
                    </chart:SfCartesianChart.Legend>
                    <chart:SfCartesianChart.Series>

                        <!--Binding data is here - data show in cl-->
                        <chart:ColumnSeries ItemsSource="{Binding Revenues}"  
                            Label="Column" 
                            IsVisibleOnLegend="True"      
                            XBindingPath="Year"  
                            YBindingPath="Counts" ShowDataLabels="True">

                            <chart:ColumnSeries.DataLabelSettings>
                                <chart:CartesianDataLabelSettings Position="Outer" 
                                          ConnectorHeight="20"
                                          ShowConnectorLine="True"
                                          ConnectorLineStyle="{StaticResource lineStyle}" />
                            </chart:ColumnSeries.DataLabelSettings>
                        </chart:ColumnSeries>

                        <!--Binding data is here - data show in line-->
                        <chart:LineSeries ItemsSource="{Binding Revenues}"
                                        Label="Line"
                                        IsVisibleOnLegend="True"
                                    XBindingPath="Year" YBindingPath="Counts"
                                    ShowDataLabels="True">
                            <chart:LineSeries.DataLabelSettings>
                                <chart:CartesianDataLabelSettings ContentTemplate="{StaticResource dataLabelTemplate}"/>
                            </chart:LineSeries.DataLabelSettings>
                        </chart:LineSeries>
                    </chart:SfCartesianChart.Series>

                </chart:SfCartesianChart>
            </Grid>
        </Grid>
        
        <!--Profit and revenue button-->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="5">
            <Button x:ConnectionId='2'                      Background=" #FF00FF00 " Name="Revenue">Revenue</Button>
            <Button x:ConnectionId='3'                     Name="Profit">Profit</Button>
        </StackPanel>
    </Grid>
</Page>

